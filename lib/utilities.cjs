"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:ut,setPrototypeOf:rt,isFrozen:Ct,getPrototypeOf:kt,getOwnPropertyDescriptor:xt}=Object;let{freeze:L,seal:C,create:Pt}=Object,{apply:Ce,construct:ke}=typeof Reflect<"u"&&Reflect;Ce||(Ce=function(e,r,n){return e.apply(r,n)});L||(L=function(e){return e});C||(C=function(e){return e});ke||(ke=function(e,r){return new e(...r)});const Ut=D(Array.prototype.forEach),ot=D(Array.prototype.pop),Q=D(Array.prototype.push),ce=D(String.prototype.toLowerCase),Re=D(String.prototype.toString),Ft=D(String.prototype.match),I=D(String.prototype.replace),vt=D(String.prototype.indexOf),Ht=D(String.prototype.trim),R=D(RegExp.prototype.test),J=zt(TypeError);function D(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ce(t,e,n)}}function zt(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ke(t,r)}}function p(t,e,r){var n;r=(n=r)!==null&&n!==void 0?n:ce,rt&&rt(t,null);let i=e.length;for(;i--;){let a=e[i];if(typeof a=="string"){const c=r(a);c!==a&&(Ct(e)||(e[i]=c),a=c)}t[a]=!0}return t}function X(t){const e=Pt(null);for(const[r,n]of ut(t))e[r]=n;return e}function ae(t,e){for(;t!==null;){const n=xt(t,e);if(n){if(n.get)return D(n.get);if(typeof n.value=="function")return D(n.value)}t=kt(t)}function r(n){return console.warn("fallback value for",n),null}return r}const it=L(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Oe=L(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),De=L(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$t=L(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Me=L(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Wt=L(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),st=L(["#text"]),at=L(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ie=L(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),lt=L(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),le=L(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Gt=C(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jt=C(/<%[\w\W]*|[\w\W]*%>/gm),Bt=C(/\${[\w\W]*}/gm),Yt=C(/^data-[\-\w.\u00B7-\uFFFF]/),Vt=C(/^aria-[\-\w]+$/),ft=C(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Xt=C(/^(?:\w+script|data):/i),Zt=C(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mt=C(/^html$/i);var ct=Object.freeze({__proto__:null,MUSTACHE_EXPR:Gt,ERB_EXPR:jt,TMPLIT_EXPR:Bt,DATA_ATTR:Yt,ARIA_ATTR:Vt,IS_ALLOWED_URI:ft,IS_SCRIPT_OR_DATA:Xt,ATTR_WHITESPACE:Zt,DOCTYPE_NAME:mt});const Kt=()=>typeof window>"u"?null:window,qt=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(n=r.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function pt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt();const e=u=>pt(u);if(e.version="3.0.5",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;const r=t.document,n=r.currentScript;let{document:i}=t;const{DocumentFragment:a,HTMLTemplateElement:c,Node:h,Element:f,NodeFilter:d,NamedNodeMap:g=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:T,DOMParser:P,trustedTypes:M}=t,U=f.prototype,ee=ae(U,"cloneNode"),ht=ae(U,"nextSibling"),dt=ae(U,"childNodes"),ue=ae(U,"parentNode");if(typeof c=="function"){const u=i.createElement("template");u.content&&u.content.ownerDocument&&(i=u.content.ownerDocument)}let y,Z="";const{implementation:fe,createNodeIterator:gt,createDocumentFragment:Et,getElementsByTagName:Tt}=i,{importNode:bt}=r;let k={};e.isSupported=typeof ut=="function"&&typeof ue=="function"&&fe&&fe.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:me,ERB_EXPR:pe,TMPLIT_EXPR:he,DATA_ATTR:At,ARIA_ATTR:Nt,IS_SCRIPT_OR_DATA:_t,ATTR_WHITESPACE:xe}=ct;let{IS_ALLOWED_URI:Pe}=ct,N=null;const Ue=p({},[...it,...Oe,...De,...Me,...st]);let _=null;const Fe=p({},[...at,...Ie,...lt,...le]);let A=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,de=null,ve=!0,ge=!0,He=!1,ze=!0,W=!1,H=!1,Ee=!1,Te=!1,G=!1,te=!1,ne=!1,$e=!0,We=!1;const St="user-content-";let be=!0,q=!1,j={},B=null;const Ge=p({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let je=null;const Be=p({},["audio","video","img","source","image","track"]);let Ae=null;const Ye=p({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),re="http://www.w3.org/1998/Math/MathML",oe="http://www.w3.org/2000/svg",F="http://www.w3.org/1999/xhtml";let Y=F,Ne=!1,_e=null;const wt=p({},[re,oe,F],Re);let z;const yt=["application/xhtml+xml","text/html"],Lt="text/html";let S,V=null;const Rt=i.createElement("form"),Ve=function(o){return o instanceof RegExp||o instanceof Function},Se=function(o){if(!(V&&V===o)){if((!o||typeof o!="object")&&(o={}),o=X(o),z=yt.indexOf(o.PARSER_MEDIA_TYPE)===-1?z=Lt:z=o.PARSER_MEDIA_TYPE,S=z==="application/xhtml+xml"?Re:ce,N="ALLOWED_TAGS"in o?p({},o.ALLOWED_TAGS,S):Ue,_="ALLOWED_ATTR"in o?p({},o.ALLOWED_ATTR,S):Fe,_e="ALLOWED_NAMESPACES"in o?p({},o.ALLOWED_NAMESPACES,Re):wt,Ae="ADD_URI_SAFE_ATTR"in o?p(X(Ye),o.ADD_URI_SAFE_ATTR,S):Ye,je="ADD_DATA_URI_TAGS"in o?p(X(Be),o.ADD_DATA_URI_TAGS,S):Be,B="FORBID_CONTENTS"in o?p({},o.FORBID_CONTENTS,S):Ge,K="FORBID_TAGS"in o?p({},o.FORBID_TAGS,S):{},de="FORBID_ATTR"in o?p({},o.FORBID_ATTR,S):{},j="USE_PROFILES"in o?o.USE_PROFILES:!1,ve=o.ALLOW_ARIA_ATTR!==!1,ge=o.ALLOW_DATA_ATTR!==!1,He=o.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=o.ALLOW_SELF_CLOSE_IN_ATTR!==!1,W=o.SAFE_FOR_TEMPLATES||!1,H=o.WHOLE_DOCUMENT||!1,G=o.RETURN_DOM||!1,te=o.RETURN_DOM_FRAGMENT||!1,ne=o.RETURN_TRUSTED_TYPE||!1,Te=o.FORCE_BODY||!1,$e=o.SANITIZE_DOM!==!1,We=o.SANITIZE_NAMED_PROPS||!1,be=o.KEEP_CONTENT!==!1,q=o.IN_PLACE||!1,Pe=o.ALLOWED_URI_REGEXP||ft,Y=o.NAMESPACE||F,A=o.CUSTOM_ELEMENT_HANDLING||{},o.CUSTOM_ELEMENT_HANDLING&&Ve(o.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(A.tagNameCheck=o.CUSTOM_ELEMENT_HANDLING.tagNameCheck),o.CUSTOM_ELEMENT_HANDLING&&Ve(o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(A.attributeNameCheck=o.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),o.CUSTOM_ELEMENT_HANDLING&&typeof o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(A.allowCustomizedBuiltInElements=o.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),W&&(ge=!1),te&&(G=!0),j&&(N=p({},[...st]),_=[],j.html===!0&&(p(N,it),p(_,at)),j.svg===!0&&(p(N,Oe),p(_,Ie),p(_,le)),j.svgFilters===!0&&(p(N,De),p(_,Ie),p(_,le)),j.mathMl===!0&&(p(N,Me),p(_,lt),p(_,le))),o.ADD_TAGS&&(N===Ue&&(N=X(N)),p(N,o.ADD_TAGS,S)),o.ADD_ATTR&&(_===Fe&&(_=X(_)),p(_,o.ADD_ATTR,S)),o.ADD_URI_SAFE_ATTR&&p(Ae,o.ADD_URI_SAFE_ATTR,S),o.FORBID_CONTENTS&&(B===Ge&&(B=X(B)),p(B,o.FORBID_CONTENTS,S)),be&&(N["#text"]=!0),H&&p(N,["html","head","body"]),N.table&&(p(N,["tbody"]),delete K.tbody),o.TRUSTED_TYPES_POLICY){if(typeof o.TRUSTED_TYPES_POLICY.createHTML!="function")throw J('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof o.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw J('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=o.TRUSTED_TYPES_POLICY,Z=y.createHTML("")}else y===void 0&&(y=qt(M,n)),y!==null&&typeof Z=="string"&&(Z=y.createHTML(""));L&&L(o),V=o}},Xe=p({},["mi","mo","mn","ms","mtext"]),Ze=p({},["foreignobject","desc","title","annotation-xml"]),Ot=p({},["title","style","font","a","script"]),ie=p({},Oe);p(ie,De),p(ie,$t);const we=p({},Me);p(we,Wt);const Dt=function(o){let s=ue(o);(!s||!s.tagName)&&(s={namespaceURI:Y,tagName:"template"});const l=ce(o.tagName),E=ce(s.tagName);return _e[o.namespaceURI]?o.namespaceURI===oe?s.namespaceURI===F?l==="svg":s.namespaceURI===re?l==="svg"&&(E==="annotation-xml"||Xe[E]):!!ie[l]:o.namespaceURI===re?s.namespaceURI===F?l==="math":s.namespaceURI===oe?l==="math"&&Ze[E]:!!we[l]:o.namespaceURI===F?s.namespaceURI===oe&&!Ze[E]||s.namespaceURI===re&&!Xe[E]?!1:!we[l]&&(Ot[l]||!ie[l]):!!(z==="application/xhtml+xml"&&_e[o.namespaceURI]):!1},$=function(o){Q(e.removed,{element:o});try{o.parentNode.removeChild(o)}catch{o.remove()}},ye=function(o,s){try{Q(e.removed,{attribute:s.getAttributeNode(o),from:s})}catch{Q(e.removed,{attribute:null,from:s})}if(s.removeAttribute(o),o==="is"&&!_[o])if(G||te)try{$(s)}catch{}else try{s.setAttribute(o,"")}catch{}},Ke=function(o){let s,l;if(Te)o="<remove></remove>"+o;else{const O=Ft(o,/^[\r\n\t ]+/);l=O&&O[0]}z==="application/xhtml+xml"&&Y===F&&(o='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+o+"</body></html>");const E=y?y.createHTML(o):o;if(Y===F)try{s=new P().parseFromString(E,z)}catch{}if(!s||!s.documentElement){s=fe.createDocument(Y,"template",null);try{s.documentElement.innerHTML=Ne?Z:E}catch{}}const w=s.body||s.documentElement;return o&&l&&w.insertBefore(i.createTextNode(l),w.childNodes[0]||null),Y===F?Tt.call(s,H?"html":"body")[0]:H?s.documentElement:w},qe=function(o){return gt.call(o.ownerDocument||o,o,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},Mt=function(o){return o instanceof T&&(typeof o.nodeName!="string"||typeof o.textContent!="string"||typeof o.removeChild!="function"||!(o.attributes instanceof g)||typeof o.removeAttribute!="function"||typeof o.setAttribute!="function"||typeof o.namespaceURI!="string"||typeof o.insertBefore!="function"||typeof o.hasChildNodes!="function")},se=function(o){return typeof h=="object"?o instanceof h:o&&typeof o=="object"&&typeof o.nodeType=="number"&&typeof o.nodeName=="string"},v=function(o,s,l){k[o]&&Ut(k[o],E=>{E.call(e,s,l,V)})},Qe=function(o){let s;if(v("beforeSanitizeElements",o,null),Mt(o))return $(o),!0;const l=S(o.nodeName);if(v("uponSanitizeElement",o,{tagName:l,allowedTags:N}),o.hasChildNodes()&&!se(o.firstElementChild)&&(!se(o.content)||!se(o.content.firstElementChild))&&R(/<[/\w]/g,o.innerHTML)&&R(/<[/\w]/g,o.textContent))return $(o),!0;if(!N[l]||K[l]){if(!K[l]&&et(l)&&(A.tagNameCheck instanceof RegExp&&R(A.tagNameCheck,l)||A.tagNameCheck instanceof Function&&A.tagNameCheck(l)))return!1;if(be&&!B[l]){const E=ue(o)||o.parentNode,w=dt(o)||o.childNodes;if(w&&E){const O=w.length;for(let b=O-1;b>=0;--b)E.insertBefore(ee(w[b],!0),ht(o))}}return $(o),!0}return o instanceof f&&!Dt(o)||(l==="noscript"||l==="noembed"||l==="noframes")&&R(/<\/no(script|embed|frames)/i,o.innerHTML)?($(o),!0):(W&&o.nodeType===3&&(s=o.textContent,s=I(s,me," "),s=I(s,pe," "),s=I(s,he," "),o.textContent!==s&&(Q(e.removed,{element:o.cloneNode()}),o.textContent=s)),v("afterSanitizeElements",o,null),!1)},Je=function(o,s,l){if($e&&(s==="id"||s==="name")&&(l in i||l in Rt))return!1;if(!(ge&&!de[s]&&R(At,s))){if(!(ve&&R(Nt,s))){if(!_[s]||de[s]){if(!(et(o)&&(A.tagNameCheck instanceof RegExp&&R(A.tagNameCheck,o)||A.tagNameCheck instanceof Function&&A.tagNameCheck(o))&&(A.attributeNameCheck instanceof RegExp&&R(A.attributeNameCheck,s)||A.attributeNameCheck instanceof Function&&A.attributeNameCheck(s))||s==="is"&&A.allowCustomizedBuiltInElements&&(A.tagNameCheck instanceof RegExp&&R(A.tagNameCheck,l)||A.tagNameCheck instanceof Function&&A.tagNameCheck(l))))return!1}else if(!Ae[s]){if(!R(Pe,I(l,xe,""))){if(!((s==="src"||s==="xlink:href"||s==="href")&&o!=="script"&&vt(l,"data:")===0&&je[o])){if(!(He&&!R(_t,I(l,xe,"")))){if(l)return!1}}}}}}return!0},et=function(o){return o.indexOf("-")>0},tt=function(o){let s,l,E,w;v("beforeSanitizeAttributes",o,null);const{attributes:O}=o;if(!O)return;const b={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_};for(w=O.length;w--;){s=O[w];const{name:x,namespaceURI:Le}=s;if(l=x==="value"?s.value:Ht(s.value),E=S(x),b.attrName=E,b.attrValue=l,b.keepAttr=!0,b.forceKeepAttr=void 0,v("uponSanitizeAttribute",o,b),l=b.attrValue,b.forceKeepAttr||(ye(x,o),!b.keepAttr))continue;if(!ze&&R(/\/>/i,l)){ye(x,o);continue}W&&(l=I(l,me," "),l=I(l,pe," "),l=I(l,he," "));const nt=S(o.nodeName);if(Je(nt,E,l)){if(We&&(E==="id"||E==="name")&&(ye(x,o),l=St+l),y&&typeof M=="object"&&typeof M.getAttributeType=="function"&&!Le)switch(M.getAttributeType(nt,E)){case"TrustedHTML":{l=y.createHTML(l);break}case"TrustedScriptURL":{l=y.createScriptURL(l);break}}try{Le?o.setAttributeNS(Le,x,l):o.setAttribute(x,l),ot(e.removed)}catch{}}}v("afterSanitizeAttributes",o,null)},It=function u(o){let s;const l=qe(o);for(v("beforeSanitizeShadowDOM",o,null);s=l.nextNode();)v("uponSanitizeShadowNode",s,null),!Qe(s)&&(s.content instanceof a&&u(s.content),tt(s));v("afterSanitizeShadowDOM",o,null)};return e.sanitize=function(u){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,l,E,w;if(Ne=!u,Ne&&(u="<!-->"),typeof u!="string"&&!se(u))if(typeof u.toString=="function"){if(u=u.toString(),typeof u!="string")throw J("dirty is not a string, aborting")}else throw J("toString is not a function");if(!e.isSupported)return u;if(Ee||Se(o),e.removed=[],typeof u=="string"&&(q=!1),q){if(u.nodeName){const x=S(u.nodeName);if(!N[x]||K[x])throw J("root node is forbidden and cannot be sanitized in-place")}}else if(u instanceof h)s=Ke("<!---->"),l=s.ownerDocument.importNode(u,!0),l.nodeType===1&&l.nodeName==="BODY"||l.nodeName==="HTML"?s=l:s.appendChild(l);else{if(!G&&!W&&!H&&u.indexOf("<")===-1)return y&&ne?y.createHTML(u):u;if(s=Ke(u),!s)return G?null:ne?Z:""}s&&Te&&$(s.firstChild);const O=qe(q?u:s);for(;E=O.nextNode();)Qe(E)||(E.content instanceof a&&It(E.content),tt(E));if(q)return u;if(G){if(te)for(w=Et.call(s.ownerDocument);s.firstChild;)w.appendChild(s.firstChild);else w=s;return(_.shadowroot||_.shadowrootmode)&&(w=bt.call(r,w,!0)),w}let b=H?s.outerHTML:s.innerHTML;return H&&N["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&R(mt,s.ownerDocument.doctype.name)&&(b="<!DOCTYPE "+s.ownerDocument.doctype.name+`>
`+b),W&&(b=I(b,me," "),b=I(b,pe," "),b=I(b,he," ")),y&&ne?y.createHTML(b):b},e.setConfig=function(u){Se(u),Ee=!0},e.clearConfig=function(){V=null,Ee=!1},e.isValidAttribute=function(u,o,s){V||Se({});const l=S(u),E=S(o);return Je(l,E,s)},e.addHook=function(u,o){typeof o=="function"&&(k[u]=k[u]||[],Q(k[u],o))},e.removeHook=function(u){if(k[u])return ot(k[u])},e.removeHooks=function(u){k[u]&&(k[u]=[])},e.removeAllHooks=function(){k={}},e}var Qt=pt();const Jt={spanish:["lunes","martes","mierrcoles","jueves","viernes","sabado","domingo"],english:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"]},en={spanish:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],english:["january","february","march","april","may","june","july","august","september","october","november","december"]},m={Object:{clone(t){const e={};for(const r in t){const n=t[r];typeof n=="object"?e[r]=m.Object.clone(n):e[r]=n}return e},getValue(t,e,r=!0){const n=e.split(/\./);let i=t;if(i){i instanceof Array&&(i=i[0]);for(let a=0;a<n.length;a++){if(i=i[n[a]],i instanceof Array&&a<n.length-1)i=i[0];else if(typeof i=="string"&&a<n.length-1&&r)try{i=JSON.parse(i)}catch{}if(!i)return i}return i}},setValue(t,e,r){const n=e.split(/\./);let i=t;if(i){for(let a=0;a<n.length-1;a++)if(i[n[a]]===void 0&&a<n.length-1&&(i[n[a]]={}),i=i[n[a]],i instanceof Array&&(i=i[0]),!i)return;r!==void 0?i[n[n.length-1]]=r:delete i[n[n.length-1]]}}},Array:{swapItems(t,e,r){if(e<0||e>=t.length)throw new Error("'oldIndex' está fuera de los límites permitidos");if(Math.ceil(e)!=e)throw new Error("'oldIndex' debe ser un número entero");if(r<0||r>=t.length)throw new Error("'oldIndex' está fuera de los límites permitidos");if(Math.ceil(r)!=r)throw new Error("'oldIndex' debe ser un número entero");if(e==r)throw new Error("'oldIndex' y 'newIndex' no deben tener el mismo valor");const n=t[e],i=t[r];t.splice(r,1,n),i?t.splice(e,1,i):t.splice(e,1)},moveItem(t,e,r){if(e<0||e>=t.length)throw new Error("'oldIndex' está fuera de los límites permitidos");if(Math.ceil(e)!=e)throw new Error("'oldIndex' debe ser un número entero");if(r<0||r>=t.length)throw new Error("'oldIndex' está fuera de los límites permitidos");if(Math.ceil(r)!=r)throw new Error("'oldIndex' debe ser un número entero");if(e==r)throw new Error("'oldIndex' y 'newIndex' no deben tener el mismo valor");const n=t[e];t.splice(e,1),t.splice(r,0,n)},queryOne(t,e){for(const[r,n]of t.entries()){let i=!0;if(typeof e=="object"){if(typeof n!="object")continue;for(const a in e){const c=m.Object.getValue(n,a),h=e[a];if(!(h==null&&c==null)&&!(h instanceof RegExp&&typeof c=="string"&&c.match(h))&&c!==h){i=!1;break}}}else i=!!e(n,r);if(i)return n}return null},query(t,e){const r=[];for(const[n,i]of t.entries()){let a=!0;if(typeof e=="object"){if(typeof i!="object")continue;for(const c in e){const h=m.Object.getValue(i,c),f=e[c];if(!(f==null&&h==null)&&!(f instanceof RegExp&&typeof h=="string"&&h.match(f))&&h!==e[c]){a=!1;break}}}else a=!!e(i,n);a&&r.push(i)}return r},extractOne(t,e){if(t==null)return null;for(const[r,n]of t.entries()){let i=!0;if(typeof e=="object"){if(typeof n!="object")continue;for(const a in e)if(m.Object.getValue(n,a)!==e[a]){i=!1;break}}else i=!!e(n,r);if(i)return t.splice(r,1)[0]}return null},extract(t,e){let r=0;const n=[];for(;r<t.length;){const i=t[r];let a=!0;if(typeof e=="object"){if(typeof i!="object")continue;for(const c in e)if(m.Object.getValue(i,c)!==e[c]){a=!1;break}}else a=!!e(i,r);a?n.push(t.splice(r,1)[0]):r++}return n},groupBy(t,e){const r={};for(const[n,i]of t.entries()){const a=e(i,n);let c=r[a];c||(c=[],r[a]=c),c.push(i)}return r},toggleElement(t,e,r){let n=null;for(const[i,a]of t.entries())if(r(a,i)){n=i;break}n!=null?t.splice(n,1):t.push(e)},chunks(t,e){const r=[],n=t.length;let i=0;for(;i<n;)r.push(t.slice(i,i+=e));return r}},Date:{format(t,e,r="spanish"){const n=t.getHours(),i=n%12||12,a=n>=12;return isNaN(t.getTime())?"":e.replace(/@y/g,t.getFullYear().toString()).replace(/@mmmm/g,m.monthName(t.getMonth()+1,!1,r)).replace(/@mmm/g,m.monthName(t.getMonth()+1,!0,r)).replace(/@mm/g,m.padLeft(t.getMonth()+1,2,"0")).replace(/@m/g,(t.getMonth()+1).toString()).replace(/@dddd/g,m.dayName(t.getDay(),!1,r)).replace(/@ddd/g,m.dayName(t.getDay(),!0,r)).replace(/@dd/g,m.padLeft(t.getDate(),2)).replace(/@d/g,t.getDate().toString()).replace(/@hh/g,m.padLeft(t.getHours(),2)).replace(/@h/g,t.getHours().toString()).replace(/@oo/g,m.padLeft(i,2)).replace(/@o/g,n.toString()).replace(/@ii/g,m.padLeft(t.getMinutes(),2)).replace(/@i/g,t.getMinutes().toString()).replace(/@ss/g,m.padLeft(t.getSeconds(),2)).replace(/@s/g,t.getSeconds().toString()).replace(/@lll/g,m.padLeft(t.getMilliseconds(),3)).replace(/@ll/g,m.padLeft(t.getMilliseconds(),2)).replace(/@l/g,t.getMilliseconds().toString()).replace(/@ww/g,m.padLeft(m.Date.getWeek(t),2)).replace(/@w/g,m.Date.getWeek(t).toString()).replace(/@eee/g,a?"p.m.":"a.m.").replace(/@ee/g,a?"pm":"am").replace(/@e/g,a?"p":"a").replace(/@EEE/g,a?"P.M.":"A.M.").replace(/@EE/g,a?"PM":"AM").replace(/@E/g,a?"P":"A")},getWeek(t){const e=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-e.getTime())/864e5+e.getDay()+1)/7)},setTimeFromString(t,e){const r=new Date(`${m.Date.format(t,"@y-@mm-@dd")} ${e}`);if(isNaN(r.getTime()))throw new Error("El valor no tiene un formato de hora válido.");t.setTime(r.getTime())},clone(t){return new Date(t.getTime())},monthName(t,e=!1,r="spanish"){return m.monthName(t.getMonth()+1,e,r)},dayName(t,e,r="spanish"){return m.dayName(t.getDate(),e,r)},createFromTemplate(t,e){let r="",n="",i="",a="",c="",h="",f="";for(let d=0;d<e.length;d++)switch(e[d]){case"y":r+=t[d]??"";break;case"m":n+=t[d]??"";break;case"d":i+=t[d]??"";break;case"h":a+=t[d]??"";break;case"i":c+=t[d]??"";break;case"s":h+=t[d]??"";break;case"l":f+=t[d]??"";break}if(!r)throw new Error("No se ha encontrado el valor de año en 'template'");if(!n)throw new Error("No se ha encontrado el valor de mes en 'template'");if(f&&!h)throw new Error("Se debe especificar el valor de segundo cuando se ha encontrado milisegundo");if(h&&!c)throw new Error("Se debe especificar el valor de minuto cuando se ha encontrado segundo");if(c&&!a)throw new Error("Se debe especificar el valor de hora cuando se ha encontrado minuto");if(a&&!i)throw new Error("Se debe especificar el valor de día cuando se ha encontrado hora");return i?a?c?h?f?new Date(Number(r),Number(n)-1,Number(i),Number(a),Number(c),Number(h),Number(f)):new Date(Number(r),Number(n)-1,Number(i),Number(a),Number(c),Number(h)):new Date(Number(r),Number(n)-1,Number(i),Number(a),Number(c)):new Date(Number(r),Number(n)-1,Number(i),Number(a)):new Date(Number(r),Number(n)-1,Number(i)):new Date(Number(r),Number(n)-1)},createFromString(t){typeof t=="string"?t=t.trim():t=t.toString();const e=t.match(/^([0-9]{2,4})([-/]?)([0-9]{2})\2([0-9]{2,4})$/);if(e){let r,n,i;e[2]=="/"?(r=Number(e[4]),n=Number(e[3])-1,i=Number(e[1])):(r=Number(e[1]),n=Number(e[3])-1,i=Number(e[4]));const a=new Date(r,n,i);if(a.getDate()===i&&a.getMonth()===n&&a.getFullYear()===r)return a}else{const r=new Date(t.replace(/t|z/gi," "));return isNaN(r.getTime())?void 0:r}}},String:{ucWords(t){return t.replace(/(\s|^)./g,e=>e.toUpperCase())},left(t,e){return t.substring(0,e)},right(t,e){return t.substring(t.length-e)},highlight(t,e="b"){return t.replace(new RegExp(`('|")(.+?)\\1`,"g"),(r,n,i)=>`<${e}>${i}</${e}>`)},ansiColor(t){const e={bright:1,dim:2,underscore:4,blink:5,"fg-black":30,"fg-red":31,"fg-green":32,"fg-yellow":33,"fg-blue":34,"fg-magenta":35,"fg-cyan":36,"fg-white":37,"bg-black":40,"bg-red":41,"bg-green":42,"bg-yellow":43,"bg-blue":44,"bg-magenta":45,"bg-cyan":46,"bg-white":47};let r=!0;for(;r;){const n=t.match(new RegExp(`<(${Object.keys(e).join("|")})>(.*?)<\\/(\\1)>`,"i"));if(!n){r=!1;break}const i=e[n[1].toLowerCase()].toString();t=t.substring(0,n.index)+`\x1B[${i}m${n[2]}\x1B[0m`+t.substring((n.index??0)+n[0].length)}return t},capitalize(t){return t.toLowerCase().replace(/(\s|^)[a-záéíóúñ]/g,e=>e.toUpperCase())},withoutAccentMark(t){const e={Á:"A",É:"E",Í:"I",Ó:"O",Ú:"U",á:"a",é:"e",í:"i",ó:"o",ú:"u"};return t==null?void 0:t.replace(/Á|É|Í|Ó|Ú/g,r=>e[r])},smartMatch(t,e){const r={á:"(a|á)",é:"(e|é)",í:"(i|í)",ó:"(o|ó)",ú:"(u|ú)",a:"(a|á)",e:"(e|é)",i:"(i|í)",o:"(o|ó)",u:"(u|ú)"};return e=e.trim().toLowerCase().replace(/\.|\?|\+|\*|\(|\)|\{|\}|\[|\]/g," ").replace(/á|é|í|ó|ú|a|e|i|o|u/g,n=>r[n]).replace(/\s+/g," ").replace(/\s/g,".*?"),t.match(new RegExp(e,"gi"))},purify(t){return Qt.sanitize(t,{FORBID_TAGS:["style"]})}},Number:{round(t,e=0){const r=Math.pow(10,e);return Math.round(t*r)/r},noScientistNotation(t){const e=t.toString(),r=e.match(/(-?)([0-9]*\.?[0-9]+)e([-+]?)([0-9]+)/);if(!r)return e;const n=r[1];let i=r[2];const a=r[3];let c=Number(r[4]);const h=i.match(/\./);if(h&&(c+=(i.length-(h.index??0)-1)*(a==="-"?1:-1),i=i.replace(".","")),a==="-"){i=m.padLeft(i,c+1);const f=i.length-c;i=i.substring(0,f)+"."+i.substring(f)}else i+=m.padRight("",c);return`${n}${i}`},format(t,e=0,r=".",n=",",i=!1){const c=m.Number.round(t,e).toFixed(e).match(/(-?)([0-9]*)\.?([0-9]*)/);if(c){const h=c[1],f=c[2],d=c[3];let g="",T=0;for(let M=f.length-1;M>=0;M--)g=`${f[M]}${T%3===0&&T>0?n:""}${g}`,T++;const P=`${h}${g}${e?`${typeof r=="string"?r:"."}${d}`:""}`;return i===!0?P.replace(/(\.)([0-9]*?)0+$/,(M,U,ee)=>ee?`.${ee}`:""):P}else return""},write(t,e){const n=m.Number.format(t,e,".","").split("."),i={integer:m.padLeft(n[0],Math.ceil(n[0].length/3)*3),decimal:n[1]},a=i.integer.match(/.{1,3}/g)??[],c=[];for(const f of a){const d=Number(f[0]),g=Number(f[1]),T=Number(f[2]),P=["",g||T?"CIENTO":"CIEN","DOCIENTOS","TRECIENTOS","CUATROCIENTOS","QUINIENTOS","SEICIENTOS","SETECIENTOS","OCHOCIENTOS","NOVECIENTOS"][d],M=["",T?"":"DIEZ",T?"VEINTI":"VEINTE","TREINTA","CUARENTA","CINCUENTA","SESENTA","SETENTA","OCHENTA","NOVENTA"][g];let U;T&&g===1?U=["","ONCE","DOCE","TRECE","CATORCE","QUINCE","DIECISEIS","DIECISIETE","DIECIOCHO","DIECINUEVE"][T]:U=["","UNO","DOS","TRES","CUATRO","CINCO","SEIS","SIETE","OCHO","NUEVE"][T],c.push(`${P}${d&&(g||T)?" ":""}${M}${g>2&&T?" Y ":""}${U}`)}const h=["","MIL","MILLÓN","BILLÓN","TRILLÓN","CUATRILLÓN","QUINTILLÓN","SEXTILLÓN","SEPTILLÓN","OCTILLÓN","NONILLÓN"];return c.map((f,d)=>{const g=c.length-d-1;let T=h[g];const P=Number(a[d]);return g===1&&P===1?f=T==="MIL"?"":"UN":g>1&&P>1&&(T=T.replace("ÓN","ONES")),`${f} ${T}`}).join(" ").trim()+(e?` CON ${i.decimal}/${m.padRight("1",e+1)}`:"")},compare(t,e){if(isNaN(t))return!1;if(typeof e=="string"&&(e=e.split(";")),e instanceof Array){const n={},i=/^([<>]=?|=)(-?[0-9]*\.?[0-9]+)$/;for(const[a,c]of e.entries()){if(typeof c!="string")throw new Error(`El elemento ${a} no es de tipo 'string'`);const h=c.match(i),f=m.forceNumber(h==null?void 0:h[2]);switch(h==null?void 0:h[1]){case"!=":n.ne=f;break;case"=":n.eq=f;break;case"<":n.lt=f;break;case"<=":n.lte=f;break;case">":n.gt=f;break;case">=":n.gte=f;break}}e=n}const r=Object.keys(e);for(const n of r){const i=e[n];switch(n){case"lt":case"lte":case"gt":case"gte":case"eq":case"ne":if(typeof i!="number")throw new Error(`El parámetro '${n}' debe ser de tipo 'number'.`);break;case"in":if(m.getType(i)!=="Array")throw new Error(`El parámetro '${n}' debe ser de tipo 'Array'.`);break;default:throw new Error(`No se reconoce la propiedad '${n}'.`)}switch(n){case"lt":if(t>=i)return!1;break;case"lte":if(t>i)return!1;break;case"gt":if(t<=i)return!1;break;case"gte":if(t<i)return!1;break;case"eq":if(t!=i)return!1;break;case"ne":if(t==i)return!1;break;case"in":if(!i.includes(t))return!1;break}}return!0},asElapsedTime(t,e){if(typeof e!="string")throw new Error("'mask' debe ser de tipo 'string'.");if(isNaN(t))return"";let r=Math.abs(t);const n={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0,miliseconds:0};return e.match(/@y/)&&(n.years=Math.floor(r/366/24/60/60/1e3),r=r%(366*24*60*60*1e3)),e.match(/@m/)&&(n.months=Math.floor(r/30.5/24/60/60/1e3),r=r%(30.5*24*60*60*1e3)),e.match(/@w/)&&(n.weeks=Math.floor(r/7/24/60/60/1e3),r=r%(7*24*60*60*1e3)),e.match(/@d/)&&(n.days=Math.floor(r/24/60/60/1e3),r=r%(24*60*60*1e3)),e.match(/@h/)&&(n.hours=Math.floor(r/60/60/1e3),r=r%(60*60*1e3)),e.match(/@i/)&&(n.minutes=Math.floor(r/60/1e3),r=r%(60*1e3)),e.match(/@s/)&&(n.seconds=Math.floor(r/1e3),r=r%1e3),e.match(/@l/)&&(n.miliseconds=r),t<0&&(e=e.replace(/^/g,"-")),e.replace(/@yy/g,m.padLeft(n.years,2)).replace(/@y/g,n.years.toString()).replace(/@mm/g,m.padLeft(n.months,2)).replace(/@m/g,n.months.toString()).replace(/@ww/g,m.padLeft(n.weeks,2)).replace(/@w/g,n.weeks.toString()).replace(/@dd/g,m.padLeft(n.days,2)).replace(/@d/g,n.days.toString()).replace(/@hh/g,m.padLeft(n.hours,2)).replace(/@h/g,n.hours.toString()).replace(/@ii/g,m.padLeft(n.minutes,2)).replace(/@i/g,n.minutes.toString()).replace(/@ss/g,m.padLeft(n.seconds,2)).replace(/@s/g,n.seconds.toString()).replace(/@ll/g,m.padLeft(n.miliseconds,2)).replace(/@l/g,n.miliseconds.toString())},isInteger(t){return Math.ceil(t)==t},isPositive(t){return t>=0},isNegative(t){return t<0},isGreaterThan(t,e){return t>e}},File:{toText:t=>new Promise((e,r)=>{const n=new FileReader;n.onload=i=>{var a;e((a=i.target)==null?void 0:a.result)},n.onerror=r,n.readAsText(t)}),toBase64:t=>new Promise((e,r)=>{const n=new FileReader;n.onload=i=>{var a;e((a=i.target)==null?void 0:a.result)},n.onerror=r,n.readAsDataURL(t)})},monthName:(t,e=!1,r="spanish")=>{var i;const n=(i=en[r])==null?void 0:i[Math.abs(t-1)%12];return n?e?n.substring(0,3):n:""},dayName:(t,e=!1,r="spanish")=>{var i;const n=(i=Jt[r])==null?void 0:i[Math.abs(t)%7];return n?e?n.substring(0,3):n:""},getType:t=>{var r;const e=(r=toString.call(t).match(/\s([a-zA-Z0-9]+)/))==null?void 0:r[1].replace(/HTML[a-zA-Z]*Element/,"HTMLElement");return(["Object","Array"].includes(e??"")?t.constructor.name:e)??null},throttle:(t,e)=>{let r;return function(...n){if(!r)r=setTimeout(()=>r=null,e);else return;return t(...n)}},debounce:(t,e)=>{let r;return function(...n){r&&clearTimeout(r),r=setTimeout(()=>t(...n),e)}},formula:(t,e)=>{if(e&&(e=(()=>{const f={};for(const d in e){let g=e[d];switch(typeof g){case"string":if(g=g.trim(),!g)f[d]=0;else{const T=Number(g);f[d]=isNaN(T)?g:T}break;case"number":f[d]=g;break;default:f[d]=0;break}}return f})()),typeof t!="string")throw new Error("El primer parámetro debe ser de tipo 'string'");const r={avg:(...f)=>f.reduce((d,g)=>d+g,0)/f.length,pow:Math.pow,e:()=>Math.E,pi:()=>Math.PI},n=/\$\b[a-zA-Z]+?[a-zA-Z0-9]*\b/g,i=f=>{var d;if(f!=null){for(const g of f){const T=g.substring(1);t=t.replace(new RegExp(`\\${g}`,"g"),((d=e==null?void 0:e[T])==null?void 0:d.toString().trim())||"0")}f=t.match(n),f&&i(f)}},a=t.match(n);a&&i(a);const c=new Set(t.match(/\b[a-z]+?[a-z0-9]*\b\(/ig)??[]);if(c.size)for(let f of Array.from(c)){if(f=f.substring(0,f.length-1).toLowerCase(),!(f in r))throw new Error(`No existe la función '${f}'`);t=t.replace(new RegExp(f,"ig"),`keywords.${f}`)}const h=new Function(t)();return isNaN(h)&&typeof h!="string"?null:h},forceNumber:t=>{const e=Number(t);return isNaN(e)?0:e},objectToUrlParameters:t=>Object.keys(t).map(e=>{const r=t[e];let n="";return typeof r=="object"?n=JSON.stringify(r):(typeof r=="string"||typeof r=="boolean"||typeof r=="number")&&(n=r),`${encodeURIComponent(e)}=${t[e]==null?"":encodeURIComponent(n)}`}).join("&"),urlParametersToObject:t=>{var i;const e=(i=t.match(/^\??(.*)$/))==null?void 0:i[1];if(!e)return{};const r=e.split("&"),n={};for(const a of r){const c=a.split("=");n[c[0]]=c[1]??null}return n},padLeft(t,e,r="0"){if(e<0)throw new Error("'length' debe ser positivo");if(Math.ceil(e)!=e)throw new Error("'length' debe ser un número entero");const n=typeof t=="number"?t.toString():t;if(n.length>e||r=="")return n;const i=Array(e+1).join(r);return m.String.right(`${i}${n}`,e)},padRight(t,e,r="0"){if(e<0)throw new Error("'length' debe ser positivo");if(Math.ceil(e)!=e)throw new Error("'length' debe ser un número entero");const n=typeof t=="number"?t.toString():t;if(n.length>e||r=="")return n;const i=Array(e+1).join(r);return m.String.left(`${n}${i}`,e)},excludeAttrs(t,...e){return()=>{const r={};for(const n in t)e.includes(n)||(r[n]=t[n]);return r}}};exports.Utilities=m;
